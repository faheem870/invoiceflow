import{d as C,o,c as d,a as e,t as r,n as p,F as u,r as A,f as a,e as b,w as x,b as v,j as D,g as k,s as I,h as S,m as T}from"./index-xWi3uxHh.js";const P={class:"p-6 max-w-4xl mx-auto"},L={class:"flex items-center justify-between mb-6"},R={class:"flex items-center gap-3 mb-1"},j={class:"text-2xl font-bold"},V={class:"text-muted-foreground text-sm"},B={class:"text-right"},N={class:"text-2xl font-bold"},$={class:"text-sm text-muted-foreground"},F={class:"rounded-lg border border-border bg-card p-6 mb-6"},H={class:"flex items-center"},O={class:"flex flex-col items-center"},W={class:"grid md:grid-cols-3 gap-6"},q={class:"md:col-span-2 rounded-lg border border-border bg-card p-6 space-y-4"},M={class:"grid grid-cols-2 gap-4 text-sm"},U={class:"font-mono text-xs mt-0.5"},z={class:"font-mono text-xs mt-0.5"},E={class:"font-medium mt-0.5"},G={class:"font-medium mt-0.5"},J={class:"font-mono text-xs mt-0.5"},K=["href"],Q={key:0,class:"pt-4 border-t border-border"},X={class:"text-sm mt-1"},Y={class:"rounded-lg border border-border bg-card p-6 space-y-3"},Z=["disabled"],ee=["disabled"],te=["disabled"],se=["disabled"],re={key:3,class:"text-center py-4"},oe={key:4,class:"text-center py-4"},de={class:"pt-3 border-t border-border"},ne=C({__name:"InvoiceDetail",setup(le){T();const s=k({id:1,tokenId:1,title:"Web Development - Phase 1",description:"Full-stack development for the e-commerce platform including frontend, backend, and database setup.",amount:"5,000",amountRaw:"5000000000000000000000",tokenSymbol:"mUSDT",sellerAddress:"0x742d35Cc6634C0532925a3b844Bc9e7595f2bD05",payerAddress:"0x1234567890abcdef1234567890abcdef12345678",currentOwnerAddress:"0x742d35Cc6634C0532925a3b844Bc9e7595f2bD05",status:"approved",dueDate:"2026-03-15",pdfUrl:null,isMilestone:!1,mintTxHash:"0xabc123...def456",chainId:97,createdAt:"2026-02-20"}),l=k(!1),f=[{key:"draft",label:"Draft"},{key:"awaiting_approval",label:"Awaiting Approval"},{key:"approved",label:"Approved"},{key:"paid",label:"Paid"}],m=I(()=>{const n=f.findIndex(t=>t.key===s.value.status);return n>=0?n:0}),_={draft:"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300",awaiting_approval:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400",approved:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",listed:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",sold:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",disputed:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",paid:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400",cancelled:"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300"},w={draft:"Draft",awaiting_approval:"Awaiting Approval",approved:"Approved",listed:"Listed",sold:"Sold",disputed:"Disputed",paid:"Paid",cancelled:"Cancelled"};async function h(){l.value=!0;try{await new Promise(n=>setTimeout(n,1500)),s.value.status="awaiting_approval"}finally{l.value=!1}}async function g(){l.value=!0;try{await new Promise(n=>setTimeout(n,1500)),s.value.status="cancelled"}finally{l.value=!1}}return(n,t)=>{const c=S("RouterLink");return o(),d("div",P,[e("div",L,[e("div",null,[e("div",R,[e("h1",j,r(s.value.title),1),e("span",{class:p(["text-xs px-2.5 py-0.5 rounded-full font-medium",_[s.value.status]])},r(w[s.value.status]),3)]),e("p",V,"Invoice #"+r(s.value.tokenId)+" on BSC Testnet",1)]),e("div",B,[e("p",N,r(s.value.amount),1),e("p",$,r(s.value.tokenSymbol),1)])]),e("div",F,[t[0]||(t[0]=e("h3",{class:"text-sm font-semibold mb-4"},"Invoice Progress",-1)),e("div",H,[(o(),d(u,null,A(f,(y,i)=>(o(),d(u,{key:y.key},[e("div",O,[e("div",{class:p(["w-8 h-8 rounded-full flex items-center justify-center text-xs font-medium",i<=m.value?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"])},r(i<m.value?"‚úì":i+1),3),e("span",{class:p(["text-xs mt-1",i<=m.value?"text-foreground font-medium":"text-muted-foreground"])},r(y.label),3)]),i<f.length-1?(o(),d("div",{key:0,class:p(["flex-1 h-px mx-2",i<m.value?"bg-primary":"bg-border"])},null,2)):a("",!0)],64))),64))])]),e("div",W,[e("div",q,[t[8]||(t[8]=e("h3",{class:"font-semibold"},"Invoice Details",-1)),e("div",M,[e("div",null,[t[1]||(t[1]=e("p",{class:"text-muted-foreground"},"Seller",-1)),e("p",U,r(s.value.sellerAddress),1)]),e("div",null,[t[2]||(t[2]=e("p",{class:"text-muted-foreground"},"Payer",-1)),e("p",z,r(s.value.payerAddress),1)]),e("div",null,[t[3]||(t[3]=e("p",{class:"text-muted-foreground"},"Due Date",-1)),e("p",E,r(s.value.dueDate),1)]),e("div",null,[t[4]||(t[4]=e("p",{class:"text-muted-foreground"},"Created",-1)),e("p",G,r(s.value.createdAt),1)]),e("div",null,[t[5]||(t[5]=e("p",{class:"text-muted-foreground"},"Current Owner",-1)),e("p",J,r(s.value.currentOwnerAddress),1)]),e("div",null,[t[6]||(t[6]=e("p",{class:"text-muted-foreground"},"Mint Transaction",-1)),e("a",{href:`https://testnet.bscscan.com/tx/${s.value.mintTxHash}`,target:"_blank",class:"text-primary text-xs hover:underline mt-0.5 block"},r(s.value.mintTxHash),9,K)])]),s.value.description?(o(),d("div",Q,[t[7]||(t[7]=e("p",{class:"text-sm text-muted-foreground"},"Description",-1)),e("p",X,r(s.value.description),1)])):a("",!0)]),e("div",Y,[t[17]||(t[17]=e("h3",{class:"font-semibold mb-2"},"Actions",-1)),s.value.status==="draft"?(o(),d(u,{key:0},[e("button",{onClick:h,disabled:l.value,class:"w-full py-2 rounded-md bg-primary text-primary-foreground text-sm font-medium hover:bg-primary/90 transition-colors disabled:opacity-50"},r(l.value?"Submitting...":"Request Approval"),9,Z),e("button",{onClick:g,disabled:l.value,class:"w-full py-2 rounded-md border border-destructive text-destructive text-sm font-medium hover:bg-destructive/10 transition-colors disabled:opacity-50"}," Cancel Invoice ",8,ee)],64)):a("",!0),s.value.status==="approved"?(o(),d(u,{key:1},[b(c,{to:`/seller/invoices/${s.value.id}/list`,class:"block w-full py-2 rounded-md bg-primary text-primary-foreground text-sm font-medium hover:bg-primary/90 transition-colors text-center"},{default:x(()=>[...t[9]||(t[9]=[v(" List for Sale ",-1)])]),_:1},8,["to"]),b(c,{to:`/seller/invoices/${s.value.id}/share`,class:"block w-full py-2 rounded-md border border-border text-sm font-medium hover:bg-muted transition-colors text-center"},{default:x(()=>[...t[10]||(t[10]=[v(" Share Payment Link ",-1)])]),_:1},8,["to"]),e("button",{onClick:g,disabled:l.value,class:"w-full py-2 rounded-md border border-destructive text-destructive text-sm font-medium hover:bg-destructive/10 transition-colors disabled:opacity-50"}," Cancel Invoice ",8,te)],64)):a("",!0),s.value.status==="awaiting_approval"?(o(),d(u,{key:2},[t[11]||(t[11]=e("div",{class:"text-center py-4"},[e("div",{class:"w-12 h-12 rounded-full bg-yellow-100 flex items-center justify-center mx-auto mb-3"},[e("span",{class:"text-yellow-600 text-lg"},"‚è≥")]),e("p",{class:"text-sm text-muted-foreground"},"Waiting for payer to approve this invoice")],-1)),e("button",{onClick:g,disabled:l.value,class:"w-full py-2 rounded-md border border-destructive text-destructive text-sm font-medium hover:bg-destructive/10 transition-colors disabled:opacity-50"}," Cancel Invoice ",8,se)],64)):a("",!0),s.value.status==="listed"?(o(),d("div",re,[...t[12]||(t[12]=[e("div",{class:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center mx-auto mb-3"},[e("span",{class:"text-blue-600 text-lg"},"üìà")],-1),e("p",{class:"text-sm text-muted-foreground"},"Listed on marketplace. Waiting for buyer.",-1)])])):a("",!0),s.value.status==="paid"?(o(),d("div",oe,[...t[13]||(t[13]=[e("div",{class:"w-12 h-12 rounded-full bg-emerald-100 flex items-center justify-center mx-auto mb-3"},[e("span",{class:"text-emerald-600 text-lg"},"‚úì")],-1),e("p",{class:"text-sm font-medium text-emerald-600"},"Payment Received",-1),e("p",{class:"text-sm text-muted-foreground mt-1"},"This invoice has been settled.",-1)])])):a("",!0),s.value.status==="disputed"?(o(),d(u,{key:5},[t[15]||(t[15]=D('<div class="text-center py-4"><div class="w-12 h-12 rounded-full bg-red-100 flex items-center justify-center mx-auto mb-3"><span class="text-red-600 text-lg">‚ö†</span></div><p class="text-sm font-medium text-red-600">Disputed</p><p class="text-sm text-muted-foreground mt-1">This invoice is under dispute.</p></div>',1)),b(c,{to:`/disputes/${s.value.id}`,class:"block w-full py-2 rounded-md border border-border text-sm font-medium hover:bg-muted transition-colors text-center"},{default:x(()=>[...t[14]||(t[14]=[v(" View Dispute ",-1)])]),_:1},8,["to"])],64)):a("",!0),e("div",de,[b(c,{to:`/ai/report/${s.value.id}`,class:"block w-full py-2 rounded-md border border-border text-sm font-medium hover:bg-muted transition-colors text-center"},{default:x(()=>[...t[16]||(t[16]=[v(" View AI Risk Report ",-1)])]),_:1},8,["to"])])])])])}}});export{ne as default};
