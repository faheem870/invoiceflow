import{d as b,o as u,c,a as e,p as x,v as y,q as D,n as d,F as k,r as w,t as l,e as L,w as P,b as S,f as U,g as m,s as _,h as I}from"./index-xWi3uxHh.js";const h={class:"p-6 max-w-7xl mx-auto"},C={class:"flex gap-4 mb-6"},M={class:"flex rounded-md border border-border overflow-hidden"},A={class:"flex items-center gap-2 mb-2"},F={class:"text-xs text-muted-foreground"},V={class:"font-semibold"},B={class:"text-xs text-muted-foreground mt-1"},N={class:"flex items-center gap-4 mt-3 text-sm"},T={class:"font-medium"},H={class:"font-semibold text-primary"},O={class:"font-medium text-green-600"},$={class:"font-medium text-green-600"},R={key:0,class:"text-center py-12 text-muted-foreground"},W=b({__name:"MarketplaceBrowse",setup(E){const i=m(""),a=m("newest"),r=m("grid"),v=m([{id:1,invoiceId:4,title:"API Integration",originalAmount:"2,500",salePrice:"2,375",discountPercent:"5.0",riskLevel:"LOW",dueDate:"2026-04-01",seller:"0x4567...8901",tokenSymbol:"mUSDT",daysUntilDue:36},{id:2,invoiceId:8,title:"Mobile App Development",originalAmount:"12,000",salePrice:"11,280",discountPercent:"6.0",riskLevel:"MEDIUM",dueDate:"2026-05-15",seller:"0xaaaa...bbbb",tokenSymbol:"mUSDT",daysUntilDue:80},{id:3,invoiceId:9,title:"Security Audit Q1",originalAmount:"7,500",salePrice:"7,275",discountPercent:"3.0",riskLevel:"LOW",dueDate:"2026-03-10",seller:"0xcccc...dddd",tokenSymbol:"mUSDT",daysUntilDue:14},{id:4,invoiceId:10,title:"Data Pipeline Setup",originalAmount:"4,800",salePrice:"4,464",discountPercent:"7.0",riskLevel:"HIGH",dueDate:"2026-06-01",seller:"0xeeee...ffff",tokenSymbol:"mUSDT",daysUntilDue:97}]),g={LOW:"bg-green-100 text-green-700",MEDIUM:"bg-yellow-100 text-yellow-700",HIGH:"bg-red-100 text-red-700"},p=_(()=>{let o=v.value;return i.value&&(o=o.filter(t=>t.title.toLowerCase().includes(i.value.toLowerCase()))),a.value==="discount"?o=[...o].sort((t,n)=>parseFloat(n.discountPercent)-parseFloat(t.discountPercent)):a.value==="dueDate"&&(o=[...o].sort((t,n)=>t.daysUntilDue-n.daysUntilDue)),o});function f(o,t){const n=parseFloat(o.replace(/,/g,"")),s=parseFloat(t.replace(/,/g,""));return((n-s)/s*100).toFixed(1)}return(o,t)=>{const n=I("RouterLink");return u(),c("div",h,[t[10]||(t[10]=e("div",{class:"mb-6"},[e("h1",{class:"text-2xl font-bold"},"Invoice Marketplace"),e("p",{class:"text-muted-foreground mt-1"},"Browse and purchase discounted invoices for yield")],-1)),e("div",C,[x(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>i.value=s),type:"text",placeholder:"Search listings...",class:"flex-1 px-3 py-2 rounded-md border border-input bg-background text-sm focus:outline-none focus:ring-2 focus:ring-ring"},null,512),[[y,i.value]]),x(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>a.value=s),class:"px-3 py-2 rounded-md border border-input bg-background text-sm"},[...t[4]||(t[4]=[e("option",{value:"newest"},"Newest",-1),e("option",{value:"discount"},"Highest Discount",-1),e("option",{value:"dueDate"},"Soonest Due",-1)])],512),[[D,a.value]]),e("div",M,[e("button",{onClick:t[2]||(t[2]=s=>r.value="grid"),class:d(["px-3 py-2 text-sm",r.value==="grid"?"bg-primary text-primary-foreground":"bg-background hover:bg-muted"])},"Grid",2),e("button",{onClick:t[3]||(t[3]=s=>r.value="list"),class:d(["px-3 py-2 text-sm",r.value==="list"?"bg-primary text-primary-foreground":"bg-background hover:bg-muted"])},"List",2)])]),e("div",{class:d(r.value==="grid"?"grid md:grid-cols-2 lg:grid-cols-3 gap-4":"space-y-3")},[(u(!0),c(k,null,w(p.value,s=>(u(),c("div",{key:s.id,class:d(["rounded-lg border border-border bg-card hover:shadow-md transition-shadow",r.value==="list"?"p-4 flex items-center justify-between":"p-6"])},[e("div",{class:d(r.value==="list"?"flex-1":"")},[e("div",A,[e("span",{class:d(["text-xs px-2 py-0.5 rounded-full font-medium",g[s.riskLevel]])},l(s.riskLevel),3),e("span",F,l(s.daysUntilDue)+" days until due",1)]),e("h3",V,l(s.title),1),e("p",B,"Seller: "+l(s.seller),1),e("div",N,[e("div",null,[t[5]||(t[5]=e("p",{class:"text-muted-foreground text-xs"},"Face Value",-1)),e("p",T,"$"+l(s.originalAmount),1)]),e("div",null,[t[6]||(t[6]=e("p",{class:"text-muted-foreground text-xs"},"Sale Price",-1)),e("p",H,"$"+l(s.salePrice),1)]),e("div",null,[t[7]||(t[7]=e("p",{class:"text-muted-foreground text-xs"},"Discount",-1)),e("p",O,l(s.discountPercent)+"%",1)]),e("div",null,[t[8]||(t[8]=e("p",{class:"text-muted-foreground text-xs"},"ROI",-1)),e("p",$,l(f(s.originalAmount,s.salePrice))+"%",1)])])],2),e("div",{class:d(r.value==="list"?"ml-4":"mt-4")},[L(n,{to:`/marketplace/${s.invoiceId}`,class:"inline-flex items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 w-full"},{default:P(()=>[...t[9]||(t[9]=[S(" View Details ",-1)])]),_:1},8,["to"])],2)],2))),128))],2),p.value.length===0?(u(),c("div",R," No listings found ")):U("",!0)])}}});export{W as default};
