import{d as x,o as r,c as i,a as e,t as d,f as l,e as g,w as y,b as _,p as w,v as k,g as u,h,m as D,l as A}from"./index-xWi3uxHh.js";const C={class:"p-6 max-w-3xl mx-auto"},I={class:"rounded-lg border border-border bg-card p-6 mb-6 space-y-4"},R={class:"flex items-center justify-between"},P={class:"text-lg font-semibold"},S={class:"grid grid-cols-2 gap-4 text-sm"},U={class:"text-xl font-bold mt-0.5"},V={class:"font-medium mt-0.5"},T={class:"font-mono text-xs mt-0.5"},B={class:"font-medium mt-0.5"},N={key:0,class:"pt-4 border-t border-border"},$={class:"text-sm mt-1"},j={key:1,class:"pt-4 border-t border-border"},z=["href"],E={key:0,class:"flex gap-3"},L=["disabled"],M=["disabled"],F={key:1,class:"rounded-lg border border-green-200 bg-green-50 p-4 text-center"},q={key:2,class:"rounded-lg border border-red-200 bg-red-50 p-4 text-center"},G={key:3,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50"},H={class:"bg-card rounded-lg border border-border p-6 w-full max-w-md mx-4"},J={class:"mb-4"},K={class:"flex gap-3"},O=["disabled"],X=x({__name:"InvoiceReviewApprove",setup(Q){D();const v=A(),o=u(!1),n=u(!1),p=u(""),s=u({id:2,tokenId:2,title:"UI Design Services",description:"Complete redesign of the dashboard UI including wireframes, mockups, and final implementation files.",amount:"3,200",tokenSymbol:"mUSDT",sellerAddress:"0x742d35Cc6634C0532925a3b844Bc9e7595f2bD05",payerAddress:"0x1234567890abcdef1234567890abcdef12345678",status:"awaiting_approval",dueDate:"2026-03-20",pdfUrl:null,isMilestone:!1,createdAt:"2026-02-18"});async function c(){o.value=!0;try{await new Promise(a=>setTimeout(a,1500)),s.value.status="approved",v.push(`/payer/invoices/${s.value.id}/pay`)}finally{o.value=!1}}async function b(){o.value=!0;try{await new Promise(a=>setTimeout(a,1500)),s.value.status="disputed",n.value=!1}finally{o.value=!1}}return(a,t)=>{const f=h("RouterLink");return r(),i("div",C,[t[14]||(t[14]=e("div",{class:"mb-6"},[e("h1",{class:"text-2xl font-bold"},"Review & Approve Invoice"),e("p",{class:"text-muted-foreground mt-1"},"Review the invoice details before approving")],-1)),e("div",I,[e("div",R,[e("h2",P,d(s.value.title),1),t[3]||(t[3]=e("span",{class:"text-xs px-2.5 py-0.5 rounded-full font-medium bg-yellow-100 text-yellow-700"},"Awaiting Approval",-1))]),e("div",S,[e("div",null,[t[4]||(t[4]=e("p",{class:"text-muted-foreground"},"Amount",-1)),e("p",U,d(s.value.amount)+" "+d(s.value.tokenSymbol),1)]),e("div",null,[t[5]||(t[5]=e("p",{class:"text-muted-foreground"},"Due Date",-1)),e("p",V,d(s.value.dueDate),1)]),e("div",null,[t[6]||(t[6]=e("p",{class:"text-muted-foreground"},"Seller",-1)),e("p",T,d(s.value.sellerAddress),1)]),e("div",null,[t[7]||(t[7]=e("p",{class:"text-muted-foreground"},"Created",-1)),e("p",B,d(s.value.createdAt),1)])]),s.value.description?(r(),i("div",N,[t[8]||(t[8]=e("p",{class:"text-sm text-muted-foreground"},"Description",-1)),e("p",$,d(s.value.description),1)])):l("",!0),s.value.pdfUrl?(r(),i("div",j,[e("a",{href:s.value.pdfUrl,target:"_blank",class:"text-sm text-primary hover:underline"},"View Invoice PDF",8,z)])):l("",!0)]),s.value.status==="awaiting_approval"?(r(),i("div",E,[e("button",{onClick:c,disabled:o.value,class:"flex-1 py-3 rounded-md bg-green-600 text-white text-sm font-medium hover:bg-green-700 transition-colors disabled:opacity-50"},d(o.value?"Processing...":"Approve Invoice"),9,L),e("button",{onClick:t[0]||(t[0]=m=>n.value=!0),disabled:o.value,class:"flex-1 py-3 rounded-md border border-destructive text-destructive text-sm font-medium hover:bg-destructive/10 transition-colors disabled:opacity-50"}," Dispute ",8,M)])):l("",!0),s.value.status==="approved"?(r(),i("div",F,[t[10]||(t[10]=e("p",{class:"text-green-700 font-medium"},"Invoice Approved",-1)),g(f,{to:`/payer/invoices/${s.value.id}/pay`,class:"text-sm text-primary hover:underline mt-1 inline-block"},{default:y(()=>[...t[9]||(t[9]=[_("Proceed to Pay",-1)])]),_:1},8,["to"])])):l("",!0),s.value.status==="disputed"?(r(),i("div",q,[...t[11]||(t[11]=[e("p",{class:"text-red-700 font-medium"},"Invoice Disputed",-1),e("p",{class:"text-sm text-red-600 mt-1"},"An arbitrator will review this dispute.",-1)])])):l("",!0),n.value?(r(),i("div",G,[e("div",H,[t[13]||(t[13]=e("h3",{class:"text-lg font-semibold mb-4"},"Dispute Invoice",-1)),e("div",J,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium mb-1.5"},"Reason for dispute",-1)),w(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=m=>p.value=m),rows:"3",placeholder:"Explain why you are disputing this invoice...",class:"w-full px-3 py-2 rounded-md border border-input bg-background text-sm focus:outline-none focus:ring-2 focus:ring-ring resize-none"},null,512),[[k,p.value]])]),e("div",K,[e("button",{onClick:t[2]||(t[2]=m=>n.value=!1),class:"flex-1 py-2 rounded-md border border-border text-sm font-medium hover:bg-muted"},"Cancel"),e("button",{onClick:b,disabled:!p.value||o.value,class:"flex-1 py-2 rounded-md bg-destructive text-destructive-foreground text-sm font-medium hover:bg-destructive/90 disabled:opacity-50"},"Submit Dispute",8,O)])])])):l("",!0)])}}});export{X as default};
