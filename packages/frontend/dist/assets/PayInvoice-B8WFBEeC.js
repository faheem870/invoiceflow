import{d as p,o as u,c as d,a as e,t as o,n as r,f as m,g as i,l as x}from"./index-xWi3uxHh.js";const b={class:"p-6 max-w-lg mx-auto"},y={class:"rounded-lg border border-border bg-card p-6 mb-6"},g={class:"font-semibold mb-4"},_={class:"space-y-3 text-sm"},w={class:"flex justify-between"},h={class:"font-medium"},P={class:"flex justify-between"},k={class:"flex justify-between"},S={class:"flex justify-between"},C={class:"font-semibold"},j={class:"flex justify-between text-xs"},F={class:"font-mono"},A={class:"space-y-3"},B={class:"flex items-center gap-3 mb-4"},T=["disabled"],$=["disabled"],I=p({__name:"PayInvoice",setup(D){const c=x(),a=i(1),n=i(!1),s=i({id:1,title:"Web Development - Phase 1",amount:"5,000",tokenSymbol:"mUSDT",currentOwner:"0x742d35Cc6634C0532925a3b844Bc9e7595f2bD05",protocolFee:"15.00",researchFee:"2.50",totalPayout:"4,982.50"});async function f(){n.value=!0;try{await new Promise(l=>setTimeout(l,2e3)),a.value=2}finally{n.value=!1}}async function v(){n.value=!0;try{await new Promise(l=>setTimeout(l,2e3)),c.push(`/payer/invoices/${s.value.id}/receipt`)}finally{n.value=!1}}return(l,t)=>(u(),d("div",b,[t[7]||(t[7]=e("div",{class:"mb-6"},[e("h1",{class:"text-2xl font-bold"},"Pay Invoice"),e("p",{class:"text-muted-foreground mt-1"},"Pay via stablecoin escrow")],-1)),e("div",y,[e("h2",g,o(s.value.title),1),e("div",_,[e("div",w,[t[0]||(t[0]=e("span",{class:"text-muted-foreground"},"Invoice Amount",-1)),e("span",h,o(s.value.amount)+" "+o(s.value.tokenSymbol),1)]),e("div",P,[t[1]||(t[1]=e("span",{class:"text-muted-foreground"},"Protocol Fee (0.3%)",-1)),e("span",null,"-"+o(s.value.protocolFee),1)]),e("div",k,[t[2]||(t[2]=e("span",{class:"text-muted-foreground"},"Research Fee (0.05%)",-1)),e("span",null,"-"+o(s.value.researchFee),1)]),t[5]||(t[5]=e("div",{class:"h-px bg-border"},null,-1)),e("div",S,[t[3]||(t[3]=e("span",{class:"text-muted-foreground"},"Recipient receives",-1)),e("span",C,o(s.value.totalPayout)+" "+o(s.value.tokenSymbol),1)]),e("div",j,[t[4]||(t[4]=e("span",{class:"text-muted-foreground"},"Recipient",-1)),e("span",F,o(s.value.currentOwner),1)])])]),e("div",A,[e("div",B,[e("div",{class:r(["w-8 h-8 rounded-full flex items-center justify-center text-xs font-medium",a.value>=1?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"])},"1",2),e("span",{class:r(["text-sm",a.value>=1?"font-medium":"text-muted-foreground"])},"Approve "+o(s.value.tokenSymbol),3),t[6]||(t[6]=e("div",{class:"flex-1 h-px bg-border"},null,-1)),e("div",{class:r(["w-8 h-8 rounded-full flex items-center justify-center text-xs font-medium",a.value>=2?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"])},"2",2),e("span",{class:r(["text-sm",a.value>=2?"font-medium":"text-muted-foreground"])},"Pay via Escrow",2)]),a.value===1?(u(),d("button",{key:0,onClick:f,disabled:n.value,class:"w-full py-3 rounded-md bg-primary text-primary-foreground text-sm font-medium hover:bg-primary/90 disabled:opacity-50"},o(n.value?"Approving...":`Approve ${s.value.amount} ${s.value.tokenSymbol}`),9,T)):m("",!0),a.value===2?(u(),d("button",{key:1,onClick:v,disabled:n.value,class:"w-full py-3 rounded-md bg-green-600 text-white text-sm font-medium hover:bg-green-700 disabled:opacity-50"},o(n.value?"Processing Payment...":`Pay ${s.value.amount} ${s.value.tokenSymbol}`),9,$)):m("",!0)]),t[8]||(t[8]=e("p",{class:"text-xs text-muted-foreground text-center mt-4"}," Payment is routed through a smart contract escrow on BSC Testnet. ",-1))]))}});export{I as default};
