import{d as S,o as l,c as n,a as e,F as k,r as C,n as v,t as r,f as d,p as u,v as p,q as U,x as F,g as b,s as T,l as P}from"./index-xWi3uxHh.js";const h={class:"p-6 max-w-3xl mx-auto"},B={class:"flex items-center mb-8"},A={class:"flex items-center"},V={key:0,class:"space-y-6"},N={class:"rounded-lg border border-border bg-card p-6 space-y-4"},I={class:"grid grid-cols-2 gap-4"},j={class:"flex items-center gap-2"},R={key:0},_={class:"flex justify-end"},z=["disabled"],W={key:1,class:"space-y-6"},q={class:"rounded-lg border border-border bg-card p-6"},E={class:"border-2 border-dashed border-border rounded-lg p-8 text-center hover:border-primary/50 transition-colors"},K={key:0,class:"space-y-2"},L={class:"text-sm font-medium"},O={class:"text-xs text-muted-foreground"},Y={key:1,class:"space-y-2"},$={key:2,class:"space-y-6"},G={class:"rounded-lg border border-border bg-card p-6 space-y-4"},H={class:"grid grid-cols-2 gap-4 text-sm"},J={class:"font-medium"},Q={class:"font-medium"},X={class:"font-medium font-mono text-xs"},Z={class:"font-medium"},ee={key:0,class:"col-span-2"},te={class:"font-medium"},oe={key:1},se={class:"font-medium"},le={key:2},ne={class:"font-medium"},re={class:"flex justify-between"},ie=["disabled"],f=3,ae=S({__name:"CreateInvoice",setup(de){const D=P(),i=b(1),o=b({title:"",description:"",amount:"",tokenAddress:"",tokenSymbol:"mUSDT",payerAddress:"",dueDate:"",isMilestone:!1,milestoneDescription:""}),a=b(null),c=b(!1),x=T(()=>o.value.title&&o.value.amount&&o.value.payerAddress&&o.value.dueDate);function w(m){const t=m.target;t.files&&t.files[0]&&(a.value=t.files[0])}function g(){i.value<f&&i.value++}function y(){i.value>1&&i.value--}async function M(){c.value=!0;try{console.log("Minting invoice:",o.value),await new Promise(m=>setTimeout(m,2e3)),D.push("/seller/invoices/1")}catch(m){console.error("Mint failed:",m)}finally{c.value=!1}}return(m,t)=>(l(),n("div",h,[t[32]||(t[32]=e("div",{class:"mb-8"},[e("h1",{class:"text-2xl font-bold"},"Create Invoice"),e("p",{class:"text-muted-foreground mt-1"},"Create and mint a new invoice NFT on BNB Chain")],-1)),e("div",B,[(l(),n(k,null,C(f,s=>(l(),n(k,{key:s},[e("div",A,[e("div",{class:v(["w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium",i.value>=s?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"])},r(s),3),e("span",{class:v(["ml-2 text-sm font-medium",i.value>=s?"text-foreground":"text-muted-foreground"])},r(s===1?"Details":s===2?"Upload PDF":"Review & Mint"),3)]),s<f?(l(),n("div",{key:0,class:v(["flex-1 h-px mx-4",i.value>s?"bg-primary":"bg-border"])},null,2)):d("",!0)],64))),64))]),i.value===1?(l(),n("div",V,[e("div",N,[e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium mb-1.5"},"Invoice Title *",-1)),u(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>o.value.title=s),type:"text",placeholder:"e.g., Web Development - Phase 1",class:"w-full px-3 py-2 rounded-md border border-input bg-background text-sm focus:outline-none focus:ring-2 focus:ring-ring"},null,512),[[p,o.value.title]])]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium mb-1.5"},"Description",-1)),u(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=s=>o.value.description=s),rows:"3",placeholder:"Describe the work or service...",class:"w-full px-3 py-2 rounded-md border border-input bg-background text-sm focus:outline-none focus:ring-2 focus:ring-ring resize-none"},null,512),[[p,o.value.description]])]),e("div",I,[e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium mb-1.5"},"Amount (mUSDT) *",-1)),u(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>o.value.amount=s),type:"number",min:"0",step:"0.01",placeholder:"5000",class:"w-full px-3 py-2 rounded-md border border-input bg-background text-sm focus:outline-none focus:ring-2 focus:ring-ring"},null,512),[[p,o.value.amount]])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium mb-1.5"},"Stablecoin",-1)),u(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>o.value.tokenSymbol=s),class:"w-full px-3 py-2 rounded-md border border-input bg-background text-sm focus:outline-none focus:ring-2 focus:ring-ring"},[...t[12]||(t[12]=[e("option",{value:"mUSDT"},"mUSDT (Mock USDT)",-1)])],512),[[U,o.value.tokenSymbol]])])]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium mb-1.5"},"Payer Wallet Address *",-1)),u(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>o.value.payerAddress=s),type:"text",placeholder:"0x...",class:"w-full px-3 py-2 rounded-md border border-input bg-background text-sm font-mono focus:outline-none focus:ring-2 focus:ring-ring"},null,512),[[p,o.value.payerAddress]])]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium mb-1.5"},"Due Date *",-1)),u(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>o.value.dueDate=s),type:"date",class:"w-full px-3 py-2 rounded-md border border-input bg-background text-sm focus:outline-none focus:ring-2 focus:ring-ring"},null,512),[[p,o.value.dueDate]])]),e("div",j,[u(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>o.value.isMilestone=s),type:"checkbox",id:"milestone",class:"rounded border-input"},null,512),[[F,o.value.isMilestone]]),t[16]||(t[16]=e("label",{for:"milestone",class:"text-sm"},"This is a milestone invoice",-1))]),o.value.isMilestone?(l(),n("div",R,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium mb-1.5"},"Milestone Description",-1)),u(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>o.value.milestoneDescription=s),type:"text",placeholder:"e.g., Deliverable 1 of 3",class:"w-full px-3 py-2 rounded-md border border-input bg-background text-sm focus:outline-none focus:ring-2 focus:ring-ring"},null,512),[[p,o.value.milestoneDescription]])])):d("",!0)]),e("div",_,[e("button",{onClick:g,disabled:!x.value,class:v(["px-6 py-2 rounded-md text-sm font-medium transition-colors",x.value?"bg-primary text-primary-foreground hover:bg-primary/90":"bg-muted text-muted-foreground cursor-not-allowed"])}," Next: Upload PDF ",10,z)])])):d("",!0),i.value===2?(l(),n("div",W,[e("div",q,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium mb-3"},"Upload Invoice PDF (optional)",-1)),e("div",E,[a.value?(l(),n("div",K,[t[18]||(t[18]=e("div",{class:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center mx-auto"},[e("span",{class:"text-primary text-lg"},"PDF")],-1)),e("p",L,r(a.value.name),1),e("p",O,r((a.value.size/1024).toFixed(1))+" KB",1),e("button",{onClick:t[8]||(t[8]=s=>a.value=null),class:"text-sm text-destructive hover:underline"},"Remove")])):(l(),n("div",Y,[t[19]||(t[19]=e("div",{class:"w-12 h-12 rounded-lg bg-muted flex items-center justify-center mx-auto"},[e("span",{class:"text-muted-foreground text-lg"},"+")],-1)),t[20]||(t[20]=e("p",{class:"text-sm text-muted-foreground"},"Drop your PDF here or click to browse",-1)),e("input",{type:"file",accept:".pdf",onChange:w,class:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"},null,32)]))]),t[22]||(t[22]=e("p",{class:"text-xs text-muted-foreground mt-2"}," The PDF hash will be stored on-chain as proof. Max 10MB. ",-1))]),e("div",{class:"flex justify-between"},[e("button",{onClick:y,class:"px-6 py-2 rounded-md border border-border text-sm font-medium hover:bg-muted transition-colors"}," Back "),e("button",{onClick:g,class:"px-6 py-2 rounded-md bg-primary text-primary-foreground text-sm font-medium hover:bg-primary/90 transition-colors"}," Next: Review ")])])):d("",!0),i.value===3?(l(),n("div",$,[e("div",G,[t[30]||(t[30]=e("h3",{class:"font-semibold text-lg"},"Review Invoice",-1)),e("div",H,[e("div",null,[t[23]||(t[23]=e("p",{class:"text-muted-foreground"},"Title",-1)),e("p",J,r(o.value.title),1)]),e("div",null,[t[24]||(t[24]=e("p",{class:"text-muted-foreground"},"Amount",-1)),e("p",Q,r(o.value.amount)+" "+r(o.value.tokenSymbol),1)]),e("div",null,[t[25]||(t[25]=e("p",{class:"text-muted-foreground"},"Payer",-1)),e("p",X,r(o.value.payerAddress),1)]),e("div",null,[t[26]||(t[26]=e("p",{class:"text-muted-foreground"},"Due Date",-1)),e("p",Z,r(o.value.dueDate),1)]),o.value.description?(l(),n("div",ee,[t[27]||(t[27]=e("p",{class:"text-muted-foreground"},"Description",-1)),e("p",te,r(o.value.description),1)])):d("",!0),a.value?(l(),n("div",oe,[t[28]||(t[28]=e("p",{class:"text-muted-foreground"},"PDF",-1)),e("p",se,r(a.value.name),1)])):d("",!0),o.value.isMilestone?(l(),n("div",le,[t[29]||(t[29]=e("p",{class:"text-muted-foreground"},"Milestone",-1)),e("p",ne,r(o.value.milestoneDescription),1)])):d("",!0)]),t[31]||(t[31]=e("div",{class:"bg-muted/50 rounded-md p-4 text-sm"},[e("p",{class:"font-medium mb-1"},"What happens next:"),e("ol",{class:"list-decimal list-inside space-y-1 text-muted-foreground"},[e("li",null,"Invoice will be minted as an NFT on BNB Chain (status: DRAFT)"),e("li",null,"You can then request approval from the payer"),e("li",null,"Once approved, you can list it for sale or share a payment link")])],-1))]),e("div",re,[e("button",{onClick:y,class:"px-6 py-2 rounded-md border border-border text-sm font-medium hover:bg-muted transition-colors"}," Back "),e("button",{onClick:M,disabled:c.value,class:v(["px-6 py-2 rounded-md text-sm font-medium transition-colors",c.value?"bg-muted text-muted-foreground cursor-not-allowed":"bg-primary text-primary-foreground hover:bg-primary/90"])},r(c.value?"Minting...":"Mint Draft Invoice"),11,ie)])])):d("",!0)]))}});export{ae as default};
